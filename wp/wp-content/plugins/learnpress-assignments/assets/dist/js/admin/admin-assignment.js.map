{"version":3,"file":"./admin/admin-assignment.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACE,WAAUA,CAAC,EAAG;EACf,SAASC,MAAMA,CAAA,EAAG;IACjBD,CAAC,CAAE,2CAA2C,CAAE,CAACE,EAAE,CAAE,QAAQ,EAAE,UAAUC,CAAC,EAAG;MAC5E,IAAKA,CAAC,CAACC,MAAM,CAACC,KAAK,KAAK,2BAA2B,EAAG;QACrDL,CAAC,CAAE,iCAAiC,CAAE,CAACM,MAAM,EAAE;MAChD;IACD,CAAC,CAAE;IAEHN,CAAC,CAAE,4BAA4B,CAAE,CAACE,EAAE,CAAE,OAAO,EAAE,UAAUC,CAAC,EAAG;MAC5DA,CAAC,CAACI,cAAc,EAAE;MAElB,MAAMC,KAAK,GAAGR,CAAC,CAAE,IAAI,CAAE;QACtBS,QAAQ,GAAGT,CAAC,CAAE,IAAI,CAAE,CAACU,IAAI,CAAE,IAAI,CAAE;QACjCC,IAAI,GAAGH,KAAK,CAACG,IAAI,EAAE;MAEpBX,CAAC,CAAE,iCAAiC,CAAE,CAACM,MAAM,EAAE;MAE/CE,KAAK,CAACG,IAAI,CAAEH,KAAK,CAACE,IAAI,CAAE,SAAS,CAAE,CAAE;MAErCV,CAAC,CAACY,IAAI,CAAE;QACPC,GAAG,EAAEC,OAAO;QACZC,IAAI,EAAE,MAAM;QACZL,IAAI,EAAE;UACLM,MAAM,EAAE,0CAA0C;UAClDC,SAAS,EAAER;QACZ;MACD,CAAC,CAAE,CAACS,IAAI,CAAE,UAAUC,QAAQ,EAAG;QAC9BX,KAAK,CAACY,OAAO,CAAE,OAAO,CAAE,CAACC,MAAM,CAAEF,QAAQ,CAACG,OAAO,CAAE;QACnDd,KAAK,CAACG,IAAI,CAAEA,IAAI,CAAE;MACnB,CAAC,CAAE;IACJ,CAAC,CAAE;IAEH,IAAKX,CAAC,CAAE,2BAA2B,CAAE,CAACuB,MAAM,GAAG,CAAC,EAAG;MAClDvB,CAAC,CAAE,WAAW,CAAE,CAACE,EAAE,CAAE,QAAQ,EAAE,YAAW;QACtCF,CAAC,CAAE,iBAAiB,CAAE,CAACwB,IAAI,CAAE,2BAA2B,CAAE,CAAClB,MAAM,EAAE;QACnE,MAAMmB,OAAO,GAAIC,UAAU,CAAE1B,CAAC,CAAE,WAAW,CAAE,CAAC2B,GAAG,EAAE,CAAE;QACrD,MAAMC,SAAS,GAAGF,UAAU,CAAE1B,CAAC,CAAE,oBAAoB,CAAE,CAAC2B,GAAG,EAAE,CAAE;QAC/D,IAAKF,OAAO,GAAGG,SAAS,EAAG;UACvB5B,CAAC,CAAE,iBAAiB,CAAE,CAACqB,MAAM,CAAE,wCAAwC,GAACQ,YAAY,CAACC,YAAY,GAAC,QAAQ,CAAE;UAC5G9B,CAAC,CAAE,WAAW,CAAE,CAAC2B,GAAG,CAAEC,SAAS,CAAE;QACrC;MACJ,CAAC,CAAC;MACF5B,CAAC,CAAE,oBAAoB,CAAE,CAACE,EAAE,CAAE,4BAA4B,EAAE,YAAW;QACnEF,CAAC,CAAE,0BAA0B,CAAE,CAACwB,IAAI,CAAE,2BAA2B,CAAE,CAAClB,MAAM,EAAE;QAC5E,MAAMmB,OAAO,GAAIC,UAAU,CAAE1B,CAAC,CAAE,WAAW,CAAE,CAAC2B,GAAG,EAAE,CAAE;QACrD,MAAMC,SAAS,GAAGF,UAAU,CAAE1B,CAAC,CAAE,oBAAoB,CAAE,CAAC2B,GAAG,EAAE,CAAE;QAC/D,IAAKC,SAAS,GAAGH,OAAO,EAAG;UACvBzB,CAAC,CAAE,0BAA0B,CAAE,CAACqB,MAAM,CAAE,wCAAwC,GAACQ,YAAY,CAACE,kBAAkB,GAAC,QAAQ,CAAE;UAC3H/B,CAAC,CAAE,oBAAoB,CAAE,CAAC2B,GAAG,CAAEF,OAAO,CAAE;QAC5C;MACJ,CAAC,CAAC;IACH;IAEAzB,CAAC,CAAE,4EAA4E,CAAE,CAACE,EAAE,CAAE,OAAO,EAAE,UAAUC,CAAC,EAAG;MAC5GA,CAAC,CAACI,cAAc,EAAE;MAElB,MAAMyB,KAAK,GAAGhC,CAAC,CAAE,IAAI,CAAE;QACtBiC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAE,8BAA8B,CAAE;QACzDC,OAAO,GAAGF,QAAQ,CAACvB,IAAI,CAAE,SAAS,CAAE;QACpC0B,aAAa,GAAGH,QAAQ,CAACvB,IAAI,CAAE,eAAe,CAAE;MAEjD,IAAK2B,OAAO,CAAER,YAAY,CAACS,qBAAqB,CAAE,EAAG;QACpDtC,CAAC,CAACY,IAAI,CAAE;UACPC,GAAG,EAAEC,OAAO;UACZC,IAAI,EAAE,MAAM;UACZL,IAAI,EAAE;YACLM,MAAM,EAAE,mCAAmC;YAC3CuB,OAAO,EAAEJ,OAAO;YAChBK,aAAa,EAAEJ;UAChB;QACD,CAAC,CAAE,CAAClB,IAAI,CAAE,UAAUC,QAAQ,EAAG;UAC9B,MAAMsB,KAAK,GAAGC,EAAE,CAACC,SAAS,CAAExB,QAAQ,CAAE;UACtCyB,KAAK,CAAEH,KAAK,CAACnB,OAAO,CAAE;QACvB,CAAC,CAAE;MACJ;IACD,CAAC,CAAE;IAEHtB,CAAC,CAAE,yEAAyE,CAAE,CAACE,EAAE,CAAE,OAAO,EAAE,UAAUC,CAAC,EAAG;MACzGA,CAAC,CAACI,cAAc,EAAE;MAElB,MAAMyB,KAAK,GAAGhC,CAAC,CAAE,IAAI,CAAE;QACtBiC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAE,8BAA8B,CAAE;QACzDC,OAAO,GAAGF,QAAQ,CAACvB,IAAI,CAAE,SAAS,CAAE;QACpC0B,aAAa,GAAGH,QAAQ,CAACvB,IAAI,CAAE,eAAe,CAAE;MAEjD,IAAK2B,OAAO,CAAER,YAAY,CAACgB,iBAAiB,CAAE,EAAG;QAChD7C,CAAC,CAACY,IAAI,CAAE;UACPC,GAAG,EAAEC,OAAO;UACZC,IAAI,EAAE,MAAM;UACZL,IAAI,EAAE;YACLM,MAAM,EAAE,iCAAiC;YACzCuB,OAAO,EAAEJ,OAAO;YAChBK,aAAa,EAAEJ;UAChB;QACD,CAAC,CAAE,CAAClB,IAAI,CAAE,UAAUC,QAAQ,EAAG;UAC9B,MAAMsB,KAAK,GAAGC,EAAE,CAACC,SAAS,CAAExB,QAAQ,CAAE;UAEtC,IAAKsB,KAAK,CAACK,MAAM,KAAK,MAAM,EAAG;YAC9BF,KAAK,CAAEH,KAAK,CAACnB,OAAO,CAAE;UACvB;UAEAyB,QAAQ,CAACC,MAAM,EAAE;QAClB,CAAC,CAAE;MACJ;IACD,CAAC,CAAE;IAEHhD,CAAC,CAAE,wEAAwE,CAAE,CAACE,EAAE,CAAE,OAAO,EAAE,UAAUC,CAAC,EAAG;MACxGA,CAAC,CAACI,cAAc,EAAE;MAElB,MAAMyB,KAAK,GAAGhC,CAAC,CAAE,IAAI,CAAE;QACtBiC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAE,8BAA8B,CAAE;QACzDe,WAAW,GAAGhB,QAAQ,CAACvB,IAAI,CAAE,cAAc,CAAE;MAE9C,IAAK2B,OAAO,CAAER,YAAY,CAACqB,YAAY,CAAE,EAAG;QAC3ClD,CAAC,CAACY,IAAI,CAAE;UACPC,GAAG,EAAEC,OAAO;UACZC,IAAI,EAAE,MAAM;UACZL,IAAI,EAAE;YACLM,MAAM,EAAE,4BAA4B;YACpCmC,YAAY,EAAEF;UACf;QACD,CAAC,CAAE,CAACG,QAAQ,CAAE,UAAUjC,QAAQ,EAAG;UAClC,MAAMsB,KAAK,GAAGC,EAAE,CAACC,SAAS,CAAExB,QAAQ,CAAE;UAEtC,IAAKsB,KAAK,CAACK,MAAM,KAAK,MAAM,EAAG;YAC9BF,KAAK,CAAEH,KAAK,CAACnB,OAAO,CAAE;UACvB;UAEAyB,QAAQ,CAACC,MAAM,EAAE;QAClB,CAAC,CAAE;MACJ;IACD,CAAC,CAAE;EACJ;EAEAhD,CAAC,CAAEqD,QAAQ,CAAE,CAACC,KAAK,CAAErD,MAAM,CAAE;AAC9B,CAAC,EAAEsD,MAAM,CAAE,C","sources":["webpack://learnpress-assignments/./assets/src/js/admin/admin-assignment.js"],"sourcesContent":["/**\n * Admin Assignment JS\n *\n * @version 4.0.0\n * @author Nhamdv - Code is poetry\n */\n( function( $ ) {\n\tfunction _ready() {\n\t\t$( 'input[type=radio][name=_lp_course_result]' ).on( 'change', function( e ) {\n\t\t\tif ( e.target.value !== 'evaluate_final_assignment' ) {\n\t\t\t\t$( '.lp-metabox-evaluate-assignment' ).remove();\n\t\t\t}\n\t\t} );\n\n\t\t$( '.lp-metabox-evaluate-radio' ).on( 'click', function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tconst _this = $( this ),\n\t\t\t\tcourseId = $( this ).data( 'id' ),\n\t\t\t\ttext = _this.text();\n\n\t\t\t$( '.lp-metabox-evaluate-assignment' ).remove();\n\n\t\t\t_this.text( _this.data( 'loading' ) );\n\n\t\t\t$.ajax( {\n\t\t\t\turl: ajaxurl,\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\taction: 'lp_assignment_update_evalute_assignments',\n\t\t\t\t\tcourse_id: courseId,\n\t\t\t\t},\n\t\t\t} ).done( function( response ) {\n\t\t\t\t_this.closest( 'label' ).append( response.message );\n\t\t\t\t_this.text( text );\n\t\t\t} );\n\t\t} );\n\n\t\tif ( $( '.lp-meta-box--assignments' ).length > 0 ) {\n\t\t\t$( '#_lp_mark' ).on( 'change', function() {\n\t\t\t    $( '._lp_mark_field' ).find( '.learn-press-tip-floating' ).remove();\n\t\t\t    const maxMark \t= parseFloat( $( '#_lp_mark' ).val() );\n\t\t\t    const passGrade = parseFloat( $( '#_lp_passing_grade' ).val() );\n\t\t\t    if ( maxMark < passGrade ) {\n\t\t\t        $( '._lp_mark_field' ).append( '<div class=\"learn-press-tip-floating\">'+lpAssignment.invalid_mark+'</div>' );\n\t\t\t        $( '#_lp_mark' ).val( passGrade );\n\t\t\t    }\n\t\t\t});\n\t\t\t$( '#_lp_passing_grade' ).on( 'change keydown paste input', function() {\n\t\t\t    $( '._lp_passing_grade_field' ).find( '.learn-press-tip-floating' ).remove();\n\t\t\t    const maxMark \t= parseFloat( $( '#_lp_mark' ).val() );\n\t\t\t    const passGrade = parseFloat( $( '#_lp_passing_grade' ).val() );\n\t\t\t    if ( passGrade > maxMark ) {\n\t\t\t        $( '._lp_passing_grade_field' ).append( '<div class=\"learn-press-tip-floating\">'+lpAssignment.invalid_mark_grade+'</div>' );\n\t\t\t        $( '#_lp_passing_grade' ).val( maxMark );\n\t\t\t    }\n\t\t\t});\n\t\t}\n\n\t\t$( '.admin_page_assignment-student .wp-list-table td.column-actions .send-mail' ).on( 'click', function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tconst _self = $( this ),\n\t\t\t\t_actions = _self.parent( '.assignment-students-actions' ),\n\t\t\t\t_userId = _actions.data( 'user_id' ),\n\t\t\t\t_assignmentId = _actions.data( 'assignment_id' );\n\n\t\t\tif ( confirm( lpAssignment.resend_evaluated_mail ) ) {\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'lp_assignment_send_evaluated_mail',\n\t\t\t\t\t\tuser_id: _userId,\n\t\t\t\t\t\tassignment_id: _assignmentId,\n\t\t\t\t\t},\n\t\t\t\t} ).done( function( response ) {\n\t\t\t\t\tconst _data = LP.parseJSON( response );\n\t\t\t\t\talert( _data.message );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t$( '.admin_page_assignment-student .wp-list-table td.column-actions .delete' ).on( 'click', function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tconst _self = $( this ),\n\t\t\t\t_actions = _self.parent( '.assignment-students-actions' ),\n\t\t\t\t_userId = _actions.data( 'user_id' ),\n\t\t\t\t_assignmentId = _actions.data( 'assignment_id' );\n\n\t\t\tif ( confirm( lpAssignment.delete_submission ) ) {\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'lp_assignment_delete_submission',\n\t\t\t\t\t\tuser_id: _userId,\n\t\t\t\t\t\tassignment_id: _assignmentId,\n\t\t\t\t\t},\n\t\t\t\t} ).done( function( response ) {\n\t\t\t\t\tconst _data = LP.parseJSON( response );\n\n\t\t\t\t\tif ( _data.status === 'fail' ) {\n\t\t\t\t\t\talert( _data.message );\n\t\t\t\t\t}\n\n\t\t\t\t\tlocation.reload();\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t$( '.admin_page_assignment-student .wp-list-table td.column-actions .reset' ).on( 'click', function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tconst _self = $( this ),\n\t\t\t\t_actions = _self.parent( '.assignment-students-actions' ),\n\t\t\t\t_userItemId = _actions.data( 'user-item-id' );\n\n\t\t\tif ( confirm( lpAssignment.reset_result ) ) {\n\t\t\t\t$.ajax( {\n\t\t\t\t\turl: ajaxurl,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'lp_assignment_reset_result',\n\t\t\t\t\t\tuser_item_id: _userItemId,\n\t\t\t\t\t},\n\t\t\t\t} ).complete( function( response ) {\n\t\t\t\t\tconst _data = LP.parseJSON( response );\n\n\t\t\t\t\tif ( _data.status === 'fail' ) {\n\t\t\t\t\t\talert( _data.message );\n\t\t\t\t\t}\n\n\t\t\t\t\tlocation.reload();\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}\n\n\t$( document ).ready( _ready );\n}( jQuery ) );\n"],"names":["$","_ready","on","e","target","value","remove","preventDefault","_this","courseId","data","text","ajax","url","ajaxurl","type","action","course_id","done","response","closest","append","message","length","find","maxMark","parseFloat","val","passGrade","lpAssignment","invalid_mark","invalid_mark_grade","_self","_actions","parent","_userId","_assignmentId","confirm","resend_evaluated_mail","user_id","assignment_id","_data","LP","parseJSON","alert","delete_submission","status","location","reload","_userItemId","reset_result","user_item_id","complete","document","ready","jQuery"],"sourceRoot":""}