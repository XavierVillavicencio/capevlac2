{"version":3,"file":"./frontend/assignment.js","mappings":"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","sources":["webpack://learnpress-assignments/./assets/src/js/frontend/assignment.js"],"sourcesContent":["/**\n * Single Assignment functions\n *\n * @author ThimPress\n * @package\n * @version 4.0.0\n * @author Nhamdv - Code is poetry\n */\n\n( function( $ ) {\n\t! Number.prototype.AssignmenttoTime && ( Number.prototype.AssignmenttoTime = function( thisSettings ) {\n\t\tconst MINUTE_IN_SECONDS = 60,\n\t\t\tHOUR_IN_SECONDS = 3600,\n\t\t\tDAY_IN_SECONDS = 24 * 3600;\n\n\t\tlet seconds = this + 0,\n\t\t\tstr = '',\n\t\t\tsingularDayText = ' day left',\n\t\t\tpluralDayText = ' days left';\n\n\t\tif ( typeof thisSettings.singularDayText != 'undefined' ) {\n\t\t\tsingularDayText = thisSettings.singularDayText;\n\t\t}\n\n\t\tif ( typeof thisSettings.pluralDayText != 'undefined' ) {\n\t\t\tpluralDayText = thisSettings.pluralDayText;\n\t\t}\n\n\t\tif ( seconds > DAY_IN_SECONDS ) {\n\t\t\tconst days = Math.ceil( seconds / DAY_IN_SECONDS );\n\t\t\tstr = days + ( days > 1 ? pluralDayText : singularDayText );\n\t\t} else {\n\t\t\tlet hours = Math.floor( seconds / HOUR_IN_SECONDS ),\n\t\t\t\tminutes = 0;\n\n\t\t\tseconds = hours ? seconds % ( hours * HOUR_IN_SECONDS ) : seconds;\n\t\t\tminutes = Math.floor( seconds / MINUTE_IN_SECONDS );\n\t\t\tseconds = minutes ? seconds % ( minutes * MINUTE_IN_SECONDS ) : seconds;\n\n\t\t\tif ( hours && hours < 10 ) {\n\t\t\t\thours = '0' + hours;\n\t\t\t}\n\n\t\t\tif ( minutes < 10 ) {\n\t\t\t\tminutes = '0' + minutes;\n\t\t\t}\n\n\t\t\tif ( seconds < 10 ) {\n\t\t\t\tseconds = '0' + seconds;\n\t\t\t}\n\n\t\t\tstr = hours + ':' + minutes + ':' + seconds;\n\t\t}\n\n\t\treturn str;\n\t} );\n\n\tfunction LPAssignment( settings ) {\n\t\tconst self = this,\n\t\t\tthisSettings = $.extend( {}, settings ),\n\t\t\t$timeElement = $( '.assignment-countdown .progress-number' ),\n\t\t\tcallbackEvents = new LP.Event_Callback( this );\n\n\t\tlet remainingTime = thisSettings.remainingTime,\n\t\t\ttimerCountdown = null;\n\n\t\tfunction timeCountdown() {\n\t\t\tstopCountdown();\n\n\t\t\tconst overtime = thisSettings.remainingTime <= 0,\n\t\t\t\tisCompleted = -1 !== settings.status.indexOf( 'finished' );\n\n\t\t\tif ( isCompleted ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( overtime ) {\n\t\t\t\t$( 'form.save-assignment' ).off( 'submit.learn-press-confirm' );\n\n\t\t\t\tif ( settings.uploaded ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcallbackEvents.callEvent( 'finish' );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthisSettings.remainingTime--;\n\t\t\ttimerCountdown = setTimeout( timeCountdown, 1000 );\n\t\t}\n\n\t\tfunction stopCountdown() {\n\t\t\ttimerCountdown && clearTimeout( timerCountdown );\n\t\t}\n\n\t\tfunction initCountdown() {\n\t\t\tthisSettings.watchChange( 'remainingTime', function( prop, oldVal, newVal ) {\n\t\t\t\tremainingTime = newVal;\n\t\t\t\tonTick.apply( self, [ oldVal, newVal ] );\n\t\t\t\treturn newVal;\n\t\t\t} );\n\t\t}\n\n\t\tfunction onTick( oldVal, newVal ) {\n\t\t\tcallbackEvents.callEvent( 'tick', [ newVal ] );\n\n\t\t\tif ( newVal <= 0 ) {\n\t\t\t\tstopCountdown();\n\t\t\t\tcallbackEvents.callEvent( 'finish' );\n\t\t\t}\n\t\t}\n\n\t\tfunction showTime() {\n\t\t\tif ( remainingTime < 0 ) {\n\t\t\t\tremainingTime = 0;\n\t\t\t}\n\t\t\tif ( typeof thisSettings != 'undefined' ) {\n\t\t\t\t$timeElement.html( remainingTime.AssignmenttoTime( thisSettings ) );\n\t\t\t}\n\t\t}\n\n\t\tfunction submit() {\n\t\t\t$( 'form.save-assignment' ).trigger( 'submit' );\n\t\t}\n\n\t\tfunction init() {\n\t\t\tif ( thisSettings.onTick ) {\n\t\t\t\tself.on( 'tick', thisSettings.onTick );\n\t\t\t}\n\n\t\t\tif ( thisSettings.onFinish ) {\n\t\t\t\tself.on( 'finish', thisSettings.onFinish );\n\t\t\t}\n\n\t\t\tinitCountdown();\n\t\t\ttimeCountdown();\n\t\t}\n\n\t\tthis.on = callbackEvents.on;\n\t\tthis.off = callbackEvents.off;\n\n\t\tif ( thisSettings.totalTime > 0 ) {\n\t\t\tthis.on( 'tick.showTime', showTime );\n\t\t\tthis.on( 'finish.submit', submit );\n\t\t}\n\n\t\tthis.getRemainingTime = function() {\n\t\t\treturn remainingTime;\n\t\t};\n\n\t\tinit();\n\t}\n\n\t$( document ).ready( function() {\n\t\tif ( typeof lpAssignmentSettings !== 'undefined' && $( '.assignment-countdown' ).length > 0 ) {\n\t\t\twindow.lpAssignment = new LPAssignment( lpAssignmentSettings );\n\t\t}\n\n\t\tif ( $( '.save-assignment' ).length > 0 ) {\n\t\t\tlet which;\n\n\t\t\t$( 'button' ).on( 'click', function() {\n\t\t\t\twhich = $( this ).attr( 'id' );\n\t\t\t} );\n\n\t\t\t$( '.save-assignment' ).on( 'submit', function( e ) {\n\n\t\t\t\tlet file = document.getElementById( \"_lp_upload_file\" );\n\t\t\t\tif ( file ) {\n\t\t\t\t    let file_amount = ~~$( '#assignment-file-amount-allow' ).text();\n\t\t\t\t    let max_file_size = ~~$( '#assignment-file-amount-allow' ).attr( 'max-file-size' );\n\t\t\t\t    if (file.files.length > file_amount) {\n\t\t\t\t        alert( 'Maximum amount of files you can upload more: ' + file_amount );\n\t\t\t\t        return false;\n\t\t\t\t    } else {\n\t\t\t\t        let over = false;\n\t\t\t\t        for ( let i = 0; i < file.files.length; i++ ) {\n\t\t\t\t            if ( file.files[ i ].size > max_file_size * 1024 * 1024 )\n\t\t\t\t                over = true;\n\t\t\t\t        }\n\t\t\t\t        if ( over ) {\n\t\t\t\t            alert( 'File size must be less than ' + max_file_size + ' MB' );\n\t\t\t\t            return false;\n\t\t\t\t        }\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( which == 'assignment-button-right' ) {\n\t\t\t\t\tconst question = $( '#assignment-button-right' ).data( 'confirm' );\n\t\t\t\t\tconst ok = confirm( question );\n\n\t\t\t\t\tif ( ok ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t} else if ( which == 'assignment-button-left' ) {\n\t\t\t\t\tconst question = $( '#assignment-button-left' ).data( 'confirm' );\n\t\t\t\t\tconst ok = confirm( question );\n\n\t\t\t\t\tif ( ok ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$( this ).append( '<input type=\"hidden\" name=\"controls-button\" value=\"Send\" /> ' );\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t}\n\n\t\t$( '.assignment_action_icon' ).on( 'click', function() {\n\t\t\tconst attOrder = $( this ).attr( 'order' );\n\t\t\tconst question = $( this ).data( 'confirm' );\n\t\t\t$( '.lp-assignment-buttons .learn-press-message' ).remove();\n\t\t\tconst ok = confirm( question );\n\t\t\tconst assignmentID = $( this ).closest( 'form.save-assignment' ).find( 'input[name=\"assignment-id\"]' ).val();\n\t\t\tif ( ok ) {\n\t\t\t\tconst allowAmount = $( '#assignment-file-amount-allow' ).text();\n\t\t\t\t$.ajax( {\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\turl: lpAssignmentSettings.root + 'learnpress/v1/assignments/delete-submit-file',\n\t\t\t\t\tbeforeSend( xhr ) {\n\t\t\t\t\t\txhr.setRequestHeader( 'X-WP-Nonce', lpAssignmentSettings.nonce );\n\t\t\t\t\t\t$( '.assignmen-file' ).append( '<div class=\"lp-assignment__overlay\"></div>' );\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: assignmentID,\n\t\t\t\t\t\tfileId: attOrder,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess( res ) {\n\t\t\t\t\t\tif ( res.data.status == 200 ) {\n\t\t\t\t\t\t\t$( '.lp-assignment__overlay' ).remove();\n\t\t\t\t\t\t\tconst newAllowAmount = parseInt( allowAmount ) + 1;\n        \t\t\t\t\t$( '#assignment-uploaded-file-' + attOrder ).hide();\n        \t\t\t\t\t$( '#_lp_upload_file' ).prop( 'disabled', false );\n        \t\t\t\t\t$( '#assignment-file-amount-allow' ).text( newAllowAmount );\n\t\t\t\t\t\t\t$( '.learn-press-assignment-uploaded' ).before( '<div class=\"learn-press-message success\" style=\"float:left; width:100%; margin-top:10px \"> ' + res.message + '</div>' ).fadeIn( slow );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$( '.lp-assignment__overlay' ).remove();\n\t\t\t\t\t\t\t$( '.learn-press-assignment-uploaded' ).before( '<div class=\"learn-press-message error\" style=\"float:left; width:100%; margin-top:10px \"> ' + res.message + '</div>' );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\t} );\n}( jQuery ) );\n"],"names":["$","Number","prototype","AssignmenttoTime","thisSettings","MINUTE_IN_SECONDS","HOUR_IN_SECONDS","DAY_IN_SECONDS","seconds","str","singularDayText","pluralDayText","days","Math","ceil","hours","floor","minutes","LPAssignment","settings","self","extend","$timeElement","callbackEvents","LP","Event_Callback","remainingTime","timerCountdown","timeCountdown","stopCountdown","overtime","isCompleted","status","indexOf","off","uploaded","callEvent","setTimeout","clearTimeout","initCountdown","watchChange","prop","oldVal","newVal","onTick","apply","showTime","html","submit","trigger","init","on","onFinish","totalTime","getRemainingTime","document","ready","lpAssignmentSettings","length","window","lpAssignment","which","attr","e","file","getElementById","file_amount","text","max_file_size","files","alert","over","i","size","question","data","ok","confirm","preventDefault","append","attOrder","remove","assignmentID","closest","find","val","allowAmount","ajax","type","url","root","beforeSend","xhr","setRequestHeader","nonce","id","fileId","success","res","newAllowAmount","parseInt","hide","before","message","fadeIn","slow","jQuery"],"sourceRoot":""}